<!DOCTYPE html>
<html>
<head>
    <title>Flask OCR</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        textarea { width: 100%; height: 200px; }
    </style>
</head>
<body>

<h2>OCR Image Reader</h2>

<form method="POST" enctype="multipart/form-data">
    <input type="file" name="image" accept="image/*">
    <br><br>
    <button type="submit">Run OCR</button>
</form>

<h3>Extracted Text</h3>
<textarea readonly>{{ text }}</textarea>

<hr>

<h3>Paste Image (Ctrl+V)</h3>
<canvas id="canvas"></canvas>

<script>
document.addEventListener("paste", function (event) {
    const items = event.clipboardData.items;
    for (const item of items) {
        if (item.type.indexOf("image") !== -1) {
            const blob = item.getAsFile();
            const formData = new FormData();
            formData.append("image", blob);

            fetch("/", {
                method: "POST",
                body: formData
            })
            .then(res => res.text())
            .then(html => document.body.innerHTML = html);
        }
    }
});
</script>

</body>
</html>
